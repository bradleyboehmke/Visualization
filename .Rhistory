income %>%
select(Metro, All_1999, All_2014) %>%
gather(Year, Value, All_1999:All_2014) %>%
ggplot(., aes(x = All_2014, fill = Year)) +
geom_histogram(binwidth = 5000)
income %>%
select(Metro, All_1999, All_2014) %>%
gather(Year, Value, All_1999:All_2014) %>%
ggplot(., aes(x = Year, fill = Year)) +
geom_histogram(binwidth = 5000)
income %>%
select(Metro, All_1999, All_2014) %>%
gather(Year, Value, All_1999:All_2014) %>%
ggplot(., aes(x = Value, fill = Year)) +
geom_histogram(binwidth = 5000)
income %>%
select(Metro, All_1999, All_2014) %>%
gather(Year, Value, All_1999:All_2014) %>%
ggplot(., aes(x = Value, fill = Year)) +
geom_histogram(binwidth = 5000, alpha = .5, position = "identity")
income %>%
select(Metro, All_1999, All_2014) %>%
gather(Year, Value, All_1999:All_2014) %>%
ggplot(., aes(x = Value, fill = Year)) +
geom_histogram(binwidth = 5000, alpha = .6, position = "identity")
income %>%
select(Metro, All_1999, All_2014) %>%
gather(Year, Value, All_1999:All_2014) %>%
ggplot(., aes(x = Value, fill = Year)) +
geom_histogram(binwidth = 5000, alpha = .5, position = "identity")
library(forecast)
?update.package()
?data
data()
str(data())
data$results
data()$results
data(mtcars)
mtcars
BOD
BOD
eruptions
faithful
plot(mtcars[, 2:4])
plot(mtcars[, 2:6])
plot(mtcars[, 4:6])
plot(x = pressure$temperature, y = pressure$pressure, type = "l")
plot(x = pressure$temperature, y = pressure$pressure, type = "s")
library(ggplot2)
qplot(temperature, pressure, data = pressure, geom = "line")
qplot(temperature, pressure, data = pressure, geom = "step")
par(bg = '#fdfdfd')
plot(x = mtcars$wt, y = mtcars$mpg)
par(bg = '#fdfdfd')
par(bg = '#fdfdfd')
plot(x = mtcars$wt, y = mtcars$mpg)
rect(par("usr")[1], par("usr")[3], par("usr")[2], par("usr")[4], col =
"grey")
plot(x = mtcars$wt, y = mtcars$mpg)
plot(x = mtcars$wt, y = mtcars$mpg, col = #fdfdfd)
)
?plot
plot(x = mtcars$wt, y = mtcars$mpg, col = "#fdfdfd")
plot(col = "#fdfdfd", x = mtcars$wt, y = mtcars$mpg)
plot(x = mtcars$wt, y = mtcars$mpg, col = "red")
ggplot(pressure, aes(x = temperature, y = pressure)) +
geom_line()
ggplot(pressure, aes(x = temperature, y = pressure)) +
geom_step()
barplot(height = BOD$demand, names.arg = BOD$Time)
paste("T", BOD$Time)
paste0("T", BOD$Time)
barplot(height = BOD$demand, names.arg = paste0("T", BOD$Time))
```{r, echo=FALSE, collapse=TRUE, eval=FALSE}
boxplot(mtcars$mpg)
plot(mtcars$mpg)
plot(mtcars$cyl, mtcars$mpg)
boxplot(mpg, data = mtcars)
boxplot(mtcars$mpg)
head(mtcars)
?mtcars
boxplot(mpg ~ cyl, data = mtcars)
plot(x = mtcars$wt, y = mtcars$mpg)
plot(x = mtcars$wt, y = mtcars$mpg, axes=FALSE)
plot(x = mtcars$wt, y = mtcars$mpg, labels = FALSE)
plot(x = mtcars$wt, y = mtcars$mpg, titles = FALSE)
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
barplot(height = BOD$demand, names.arg = BOD$Time)
plot(x = pressure$temperature, y = pressure$pressure, type = "l")
hist(mtcars$mpg)
p4 <- hist(mtcars$mpg, xlab = NA, ylab = NA)
p4 <- hist(mtcars$mpg, xlab = NA, ylab = NA, main = NA)
p2 <- barplot(height = BOD$demand, names.arg = BOD$Time)
p4 <- hist(mtcars$mpg, xlab = NA, ylab = NA, main = NA)
plot(mtcars$cyl, mtcars$mpg)
plot(factor(mtcars$cyl), mtcars$mpg)
par(bg = "#fdfdfd")
p1 <- plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
par(bg = "#fdfdfd")
p2 <- barplot(height = BOD$demand, names.arg = BOD$Time)
par(bg = "#fdfdfd")
p3 <- plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
par(bg = "#fdfdfd")
p4 <- plot(factor(mtcars$cyl), mtcars$mpg)
par(mfrow=c(2,2), mar=c(2,5,2,1), las=1, bty="n")
p1
p2
p3
p4
par(mfrow=c(2,2), mar=c(2,5,2,1), las=1, bty="n")
par(bg = "#fdfdfd")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
par(bg = "#fdfdfd")
barplot(height = BOD$demand, names.arg = BOD$Time)
par(bg = "#fdfdfd")
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
par(bg = "#fdfdfd")
plot(factor(mtcars$cyl), mtcars$mpg)
par(mfrow=c(2,2), mar=c(2,5,5,1), las=1, bty="n")
par(bg = "#fdfdfd")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
par(bg = "#fdfdfd")
barplot(height = BOD$demand, names.arg = BOD$Time)
par(bg = "#fdfdfd")
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
par(bg = "#fdfdfd")
plot(factor(mtcars$cyl), mtcars$mpg)
par(mfrow=c(2,2), mar=c(5,5,2,1), las=1, bty="n")
par(bg = "#fdfdfd")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
par(bg = "#fdfdfd")
barplot(height = BOD$demand, names.arg = BOD$Time)
par(bg = "#fdfdfd")
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
par(bg = "#fdfdfd")
plot(factor(mtcars$cyl), mtcars$mpg)
par(mfrow=c(2,2), mar=c(3,5,2,1), las=1, bty="n")
par(bg = "#fdfdfd")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
par(bg = "#fdfdfd")
barplot(height = BOD$demand, names.arg = BOD$Time)
par(bg = "#fdfdfd")
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
par(bg = "#fdfdfd")
plot(factor(mtcars$cyl), mtcars$mpg)
par(mfrow=c(2,2), mar=c(3,5,2,2), las=1, bty="n")
par(bg = "#fdfdfd")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
par(bg = "#fdfdfd")
barplot(height = BOD$demand, names.arg = BOD$Time)
par(bg = "#fdfdfd")
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
par(bg = "#fdfdfd")
plot(factor(mtcars$cyl), mtcars$mpg)
par(mfrow=c(2,2), mar=c(3,5,2,2), las=1, bty="n")
par(bg = "#DFDFDF")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
par(bg = "#DFDFDF")
barplot(height = BOD$demand, names.arg = BOD$Time)
par(bg = "#DFDFDF")
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
par(bg = "#DFDFDF")
plot(factor(mtcars$cyl), mtcars$mpg)
par(mfrow=c(2,2), mar=c(3,5,2,2), las=1, bty="n")
par(bg = "#DDDDDD")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
par(bg = "#DFDFDF")
barplot(height = BOD$demand, names.arg = BOD$Time)
par(bg = "#DFDFDF")
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
par(bg = "#DFDFDF")
plot(factor(mtcars$cyl), mtcars$mpg)
par(bg = "#DDDDDD")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
par(mfrow=c(2,2), mar=c(3,5,2,2), las=1, bty="n")
par(bg = "#DDDDDD")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
barplot(height = BOD$demand, names.arg = BOD$Time)
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
plot(factor(mtcars$cyl), mtcars$mpg)
par(mfrow=c(2,2), mar=c(3,5,2,2), las=1, bty="n")
par(bg = "#ddcccc")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
barplot(height = BOD$demand, names.arg = BOD$Time)
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
plot(factor(mtcars$cyl), mtcars$mpg)
par(mfrow=c(2,2), mar=c(3,5,2,2), las=1, bty="n")
par(bg = "#bbaaaa")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
barplot(height = BOD$demand, names.arg = BOD$Time)
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
plot(factor(mtcars$cyl), mtcars$mpg)
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
barplot(height = BOD$demand, names.arg = BOD$Time)
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
plot(factor(mtcars$cyl), mtcars$mpg)
ggplot(mtcars, aes(mpg, cyl)) + geom_point()
par(mfrow=c(2,2), mar=c(3,5,2,2), las=1, bty="n")
par(bg = "#bbaaaa")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
barplot(height = BOD$demand, names.arg = BOD$Time)
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
plot(factor(mtcars$cyl), mtcars$mpg)
par(mfrow=c(2,2), mar=c(3,5,2,2), las=1, bty="n")
par(bg = "#EEEEEE")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
barplot(height = BOD$demand, names.arg = BOD$Time)
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
plot(factor(mtcars$cyl), mtcars$mpg)
par(mfrow=c(2,2), mar=c(3,5,2,2), las=1, bty="n")
par(bg = "#DDDDDD")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
barplot(height = BOD$demand, names.arg = BOD$Time)
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
plot(factor(mtcars$cyl), mtcars$mpg)
par(mfrow=c(2,2), mar=c(3,5,2,2), las=1, bty="n")
par(bg = "#EEEEEE")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
barplot(height = BOD$demand, names.arg = BOD$Time)
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
plot(factor(mtcars$cyl), mtcars$mpg)
library(xlsx)           # for reading in Excel data
read.xlsx("http://www.pewsocialtrends.org/files/2016/05/Middle-Class-U.S.-Metro-Areas-5-12-16-Supplementary-Tables.xlsx",
sheetIndex = "3. Median HH income, metro",
startRow = 8, colIndex = c(1:5, 7:10)) %>%
set_colnames(c("Metro", "All_99", "Lower_99", "Middle_99", "Upper_99",
"All_14", "Lower_14", "Middle_14", "Upper_14")) %>%
filter(Metro != "NA")
read.xlsx("http://www.pewsocialtrends.org/files/2016/05/Middle-Class-U.S.-Metro-Areas-5-12-16-Supplementary-Tables.xlsx",
sheetIndex = "3. Median HH income, metro",
startRow = 8, colIndex = c(1:5, 7:10))
read.xlsx("Middle-Class-U.S.-Metro-Areas-5-12-16-Supplementary-Tables.xlsx",
sheetIndex = "3. Median HH income, metro",
startRow = 8, colIndex = c(1:5, 7:10))
read.xlsx("Data/Middle-Class-U.S.-Metro-Areas-5-12-16-Supplementary-Tables.xlsx",
sheetIndex = "3. Median HH income, metro",
startRow = 8, colIndex = c(1:5, 7:10)) %>%
set_colnames(c("Metro", "All_99", "Lower_99", "Middle_99", "Upper_99",
"All_14", "Lower_14", "Middle_14", "Upper_14")) %>%
filter(Metro != "NA")
read.xlsx("Data/Middle-Class-U.S.-Metro-Areas-5-12-16-Supplementary-Tables.xlsx",
sheetIndex = "3. Median HH income, metro",
startRow = 8, colIndex = c(1:5, 7:10))
library(xlsx)           # for reading in Excel data
library(dplyr)          # for data manipulation
library(tidyr)          # for data manipulation
library(magrittr)       # for easier syntax in one or two areas
library(ggplot2)
income <- read.xlsx("Data/Middle-Class-U.S.-Metro-Areas-5-12-16-Supplementary-Tables.xlsx",
sheetIndex = "3. Median HH income, metro",
startRow = 8, colIndex = c(1:5, 7:10)) %>%
set_colnames(c("Metro", "All_99", "Lower_99", "Middle_99", "Upper_99",
"All_14", "Lower_14", "Middle_14", "Upper_14")) %>%
filter(Metro != "NA")
head(income)
ggplot(income, aes(x = All_14)) +
geom_histogram()
?stat_bin
ggplot(income, aes(x = All_14)) +
geom_histogram(binwidth = 2000, color = "grey30", fill = "white")
min(income$All_14)
max(income$All_14)
max(income$All_14)-min(income$All_14)
(max(income$All_14)-min(income$All_14))/30
seq(39751.99, 90743.25, length.out = 30)
seq(39751.99, 90743.25, by 1699.709)
seq(39751.99, 90743.25, by = 1699.709)
41510.31-39751.99
43268.63 - 41510.31
ggplot(income, aes(x = All_14)) +
geom_histogram(binwidth = 1000)
ggplot(income, aes(x = All_14)) +
geom_histogram(binwidth = 2500)
ggplot(income, aes(x = All_14)) +
geom_histogram(binwidth = 5000)
ggplot(income, aes(x = All_14)) +
geom_histogram(binwidth = 10000)
library(gridExtra)      # for generating the bin width comparison plot
p1 <- ggplot(income, aes(x = All_14)) +
geom_histogram(binwidth = 1000)
p2 <- ggplot(income, aes(x = All_14)) +
geom_histogram(binwidth = 5000)
p3 <- ggplot(income, aes(x = All_14)) +
geom_histogram(binwidth = 10000)
grid.arrange(p1, p2, p3, ncol=1)
grid.arrange(p1, p2, p3, ncol=3)
p1 <- ggplot(income, aes(x = All_14)) +
geom_histogram(binwidth = 1000, color = "grey30", fill = "white") +
ggtitle("Bin Width = 1000")
p2 <- ggplot(income, aes(x = All_14)) +
geom_histogram(binwidth = 5000, color = "grey30", fill = "white") +
ggtitle("Bin Width = 5000")
p3 <- ggplot(income, aes(x = All_14)) +
geom_histogram(binwidth = 10000, color = "grey30", fill = "white") +
ggtitle("Bin Width = 10000")
grid.arrange(p1, p2, p3, ncol=3)
class_comparison %>%
group_by(Class, Year) %>%
summarise(Mean = mean(Income))
library(xlsx)           # for reading in Excel data
library(dplyr)          # for data manipulation
library(tidyr)          # for data manipulation
library(magrittr)       # for easier syntax in one or two areas
library(gridExtra)      # for generating the bin width comparison plot
library(ggplot2)
income <- read.xlsx("Data/Middle-Class-U.S.-Metro-Areas-5-12-16-Supplementary-Tables.xlsx",
sheetIndex = "3. Median HH income, metro",
startRow = 8, colIndex = c(1:5, 7:10)) %>%
set_colnames(c("Metro", "All_99", "Lower_99", "Middle_99", "Upper_99",
"All_14", "Lower_14", "Middle_14", "Upper_14")) %>%
filter(Metro != "NA")
head(income)
income %>%
select(Metro, Lower_99:Upper_99, Lower_14:Upper_14) %>%
gather(Class, Income, -Metro) %>%
separate(Class, into = c("Class", "Year")) %>%
mutate(Year = ifelse(Year == 99, 1999, 2014))
class_comparison <- income %>%
select(Metro, Lower_99:Upper_99, Lower_14:Upper_14) %>%
gather(Class, Income, -Metro) %>%
separate(Class, into = c("Class", "Year")) %>%
mutate(Year = ifelse(Year == 99, 1999, 2014))
ggplot(class_comparison, aes(x = Income, fill = as.factor(Year))) +
geom_histogram() +
geom_vline(data = class_mean, aes(xintercept = Mean), linetype = "dashed") +
facet_grid(Year ~ Class, scales = "free")
class_mean <- class_comparison %>%
group_by(Class, Year) %>%
summarise(Mean = mean(Income))
ggplot(class_comparison, aes(x = Income, fill = as.factor(Year))) +
geom_histogram(color = "white") +
geom_vline(data = class_mean, aes(xintercept = Mean), linetype = "dashed", alpha = .5) +
facet_grid(Year ~ Class, scales = "free")
class_comparison$Class[class_comparison$Class == "Lower"]
class_comparison$Class[class_comparison$Class == "Lower"] <- "Lower Class"
class_comparison$Class[class_comparison$Class == "Middle"] <- "Middle Class"
class_comparison$Class[class_comparison$Class == "Upper"] <- "Upper Class"
ggplot(class_comparison, aes(x = Income, fill = as.factor(Year))) +
geom_histogram(color = "white"
) +
geom_vline(data = class_mean, aes(xintercept = Mean), linetype = "dashed", alpha = .5) +
facet_grid(Year ~ Class, scales = "free")
class_comparison
class_mean
as.factor(class_comparison$Class)
?as.factor
class_comparison <- income %>%
select(Metro, Lower_99:Upper_99, Lower_14:Upper_14) %>%
gather(Class, Income, -Metro) %>%
separate(Class, into = c("Class", "Year")) %>%
mutate(Year = ifelse(Year == 99, 1999, 2014))
head(class_comparison)
as.factor(class_comparison$Class,
levels = c("Lower Class", "Middle Class", "Upper Class"))
factor(class_comparison$Class,
levels = c("Lower Class", "Middle Class", "Upper Class"))
as.factor(class_comparison$Class,
levels = c("Lower Class", "Middle Class", "Upper Class"))
as.factor(class_comparison$Class)
as.factor(class_comparison$Class)
plyr::revalue(class_comparison,
c("Lower" = "Lower Class",
"Middle" = "Middle Class",
"Upper" = "Upper Class"))
class_comparison$Class <- as.factor(class_comparison$Class)
plyr::revalue(class_comparison,
c("Lower" = "Lower Class",
"Middle" = "Middle Class",
"Upper" = "Upper Class"))
plyr::revalue(class_comparison$Class,
c("Lower" = "Lower Class",
"Middle" = "Middle Class",
"Upper" = "Upper Class"))
class_mean
class_mean$Class <- as.factor(class_mean$Class)
class_mean$Class <- plyr::revalue(class_mean$Class,
c("Lower" = "Lower Class",
"Middle" = "Middle Class",
"Upper" = "Upper Class"))
ggplot(class_comparison, aes(x = Income, fill = as.factor(Year))) +
geom_histogram(color = "white") +
geom_vline(data = class_mean, aes(xintercept = Mean), linetype = "dashed", alpha = .5) +
facet_grid(Year ~ Class, scales = "free") +
scale_x_continuous(labels = scales::dollar) +
scale_y_continuous(limits = c(0, 58), expand = c(0, 0)) +
ylab("Frequency") +
xlab("")
class_mean$Class
class_mean$Class
class_comparison$Class
class_comparison$Class <- as.factor(class_comparison$Class)
class_comparison$Class <- plyr::revalue(class_comparison$Class,
c("Lower" = "Lower Class",
"Middle" = "Middle Class",
"Upper" = "Upper Class"))
class_mean$Class <- as.factor(class_mean$Class)
class_mean$Class <- plyr::revalue(class_mean$Class,
c("Lower" = "Lower Class",
"Middle" = "Middle Class",
"Upper" = "Upper Class"))
ggplot(class_comparison, aes(x = Income, fill = as.factor(Year))) +
geom_histogram(color = "white") +
geom_vline(data = class_mean, aes(xintercept = Mean), linetype = "dashed", alpha = .5) +
facet_grid(Year ~ Class, scales = "free") +
scale_x_continuous(labels = scales::dollar) +
scale_y_continuous(limits = c(0, 58), expand = c(0, 0)) +
ylab("Frequency") +
xlab("")
class_comparison %>%
group_by(Class, Year) %>%
summarise(Mean = mean(Income)) %>%
mutate(Label = paste0("$", prettyNum(round(Mean, 0), big.mark = ",")))
ggplot(class_comparison, aes(x = Income, fill = as.factor(Year))) +
geom_histogram(color = "white") +
geom_vline(data = class_mean, aes(xintercept = Mean), linetype = "dashed", alpha = .5) +
facet_grid(Year ~ Class, scales = "free") +
scale_x_continuous(labels = scales::dollar) +
scale_y_continuous(limits = c(0, 58), expand = c(0, 0)) +
ylab("Frequency") +
xlab("") +
labs(title = "Median Household Income by Income Tier Across U.S. Metropolitan Areas",
subtitle = "Average median income across 229 metros decreased from $67,863 in 1999 to $62,662 in 2014, representing an 8% loss in income. \nThe lower income class experienced the largest impact with a 11% decrease while the middle and upper class median household income \ndecreased by 6% and 8% respectively.",
caption = "Source: Pew Research Center analysis of the 2000 decennial census and 2014 American Community Survey (IPUMS)")
class_mean
class_mean <- class_comparison %>%
group_by(Class, Year) %>%
summarise(Mean = mean(Income))
class_mean
class_mean %>%
mutate(Label = paste0("$", prettyNum(round(Mean, 0), big.mark = ",")))
p <- ggplot(class_comparison, aes(x = Income, fill = as.factor(Year))) +
geom_histogram(color = "white") +
geom_vline(data = class_mean, aes(xintercept = Mean), linetype = "dashed", alpha = .5) +
facet_grid(Year ~ Class, scales = "free") +
scale_x_continuous(labels = scales::dollar) +
scale_y_continuous(limits = c(0, 58), expand = c(0, 0)) +
ylab("Frequency") +
xlab("") +
labs(title = "Median Household Income by Income Tier Across U.S. Metropolitan Areas",
subtitle = "Average median income across 229 metros decreased from $67,863 in 1999 to $62,662 in 2014, representing an 8% loss in income. \nThe lower income class experienced the largest impact with a 11% decrease while the middle and upper class median household income \ndecreased by 6% and 8% respectively.",
caption = "Source: Pew Research Center analysis of the 2000 decennial census and 2014 American Community Survey (IPUMS)")
p
ggplot(class_comparison, aes(x = Income/1000, fill = as.factor(Year))) +
geom_histogram(color = "white") +
geom_vline(data = class_mean, aes(xintercept = Mean/1000), linetype = "dashed", alpha = .5) +
facet_grid(Year ~ Class, scales = "free") +
scale_x_continuous(labels = scales::dollar) +
scale_y_continuous(limits = c(0, 58), expand = c(0, 0)) +
ylab("Frequency") +
xlab("") +
labs(title = "Median Household Income by Income Tier Across U.S. Metropolitan Areas",
subtitle = "Average median income across 229 metros decreased from $67,863 in 1999 to $62,662 in 2014, representing an 8% loss in income. \nThe lower income class experienced the largest impact with a 11% decrease while the middle and upper class median household income \ndecreased by 6% and 8% respectively.",
caption = "Source: Pew Research Center analysis of the 2000 decennial census and 2014 American Community Survey (IPUMS)")
ggplot(class_comparison, aes(x = Income/1000, fill = as.factor(Year))) +
geom_histogram(color = "white") +
geom_vline(data = class_mean, aes(xintercept = Mean/1000), linetype = "dashed", alpha = .5) +
facet_grid(Year ~ Class, scales = "free") +
scale_x_continuous(labels = scales::dollar) +
scale_y_continuous(limits = c(0, 58), expand = c(0, 0)) +
ylab("Frequency") +
xlab("Median Household Income (thousands)") +
labs(title = "Median Household Income by Income Tier Across U.S. Metropolitan Areas",
subtitle = "Average median income across 229 metros decreased from $67,863 in 1999 to $62,662 in 2014, representing an 8% loss in \nincome. The lower income class experienced the largest impact with a 11% decrease while the middle and upper class median \nhousehold income decreased by 6% and 8% respectively.",
caption = "Source: Pew Research Center analysis of the \n2000 decennial census and 2014 American Community Survey (IPUMS)")
ggplot(class_comparison, aes(x = Income/1000, fill = as.factor(Year))) +
geom_histogram(color = "white") +
geom_vline(data = class_mean, aes(xintercept = Mean/1000), linetype = "dashed", alpha = .5) +
facet_grid(Year ~ Class, scales = "free") +
scale_x_continuous(labels = scales::dollar) +
scale_y_continuous(limits = c(0, 58), expand = c(0, 0)) +
ylab("Frequency") +
xlab("Median Household Income (thousands)") +
labs(title = "Median Household Income by Income Tier Across U.S. Metropolitan Areas",
subtitle = "Average median income across 229 metros decreased from $67,863 in 1999 to $62,662 in 2014, representing an 8% loss in \nincome. The lower income class experienced the largest impact with a 11% decrease while the middle and upper class median \nhousehold income decreased by 6% and 8% respectively.",
caption = "Source: Pew Research Center analysis of the \n2000 decennial census and 2014 \nAmerican Community Survey (IPUMS)")
theme_update(plot.background = element_rect(fill = "#fdfdfd"))
ggplot(income, aes(x = All_14)) +
geom_histogram()
summary(mtcars)
?summary
library(pastecs)
stat.desc(mtcars)
stat.desc(mtcars, basic = F)
round(stat.desc(mtcars, basic = F), 2)
round(stat.desc(mtcars, basic = F), 3)
round(stat.desc(mtcars[, c(1, 4, 6)], basic = F), 3)
random <- data.frame(x = rnorm(1000))
ggplot(random, aes(x)) +
geom_histogram(color = "#EEEEEE") +
theme_minimal() +
theme(plot.background = element_rect(fill = "#EEEEEE", color = "#EEEEEE"),
axis.text = element_blank(),
axis.ticks = element_blank(),
axis.title = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
library(ggplot2)
ggplot(random, aes(x)) +
geom_histogram(color = "#EEEEEE") +
theme_minimal() +
theme(plot.background = element_rect(fill = "#EEEEEE", color = "#EEEEEE"),
axis.text = element_blank(),
axis.ticks = element_blank(),
axis.title = element_blank(),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank())
par(mfrow=c(2,2), mar=c(3,5,2,2), las=1, bty="n")
par(bg = "#EEEEEE")
plot(x = mtcars$wt, y = mtcars$mpg, xlab = NA, ylab = NA)
barplot(height = BOD$demand, names.arg = BOD$Time)
plot(x = pressure$temperature, y = pressure$pressure, type = "l", xlab = NA, ylab = NA)
plot(factor(mtcars$cyl), mtcars$mpg)
