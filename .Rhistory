geom_point(alpha = .3) +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2) +
ggtitle("Sale Price based on Type of Foundation")
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price, color = Central_Air, shape = Central_Air)) +
geom_point(alpha = .3) +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2) +
ggtitle("Sale Price vs. Above Ground Sq.Ft",
subtitle = "How does central air and house style influence this relationship?")
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price, color = Central_Air, shape = Central_Air)) +
geom_point(alpha = .3) +
geom_density2d() +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2) +
ggtitle("Sale Price vs. Above Ground Sq.Ft",
subtitle = "How does central air and house style influence this relationship?")
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price, color = Central_Air, shape = Central_Air)) +
geom_point(alpha = .3) +
geom_density2d() +
geom_smooth(method = "lm", se = FALSE) +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2) +
ggtitle("Sale Price vs. Above Ground Sq.Ft",
subtitle = "How does central air and house style influence this relationship?")
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price, color = Central_Air, shape = Central_Air)) +
geom_point(alpha = .3) +
geom_density2d(alpha = .5) +
geom_smooth(method = "lm", se = FALSE, lty = "dotted") +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2) +
ggtitle("Sale Price vs. Above Ground Sq.Ft",
subtitle = "How does central air and house style influence this relationship?")
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price, color = Central_Air, shape = Central_Air)) +
geom_point(alpha = .3) +
geom_density2d(alpha = .5) +
geom_smooth(method = "lm", se = FALSE, lty = "dashed") +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2) +
ggtitle("Sale Price vs. Above Ground Sq.Ft",
subtitle = "How does central air and house style influence this relationship?")
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price, color = Central_Air, shape = Central_Air)) +
geom_point(alpha = .3) +
geom_density2d(alpha = .5) +
geom_smooth(method = "lm", se = FALSE) +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2) +
ggtitle("Sale Price vs. Above Ground Sq.Ft",
subtitle = "How does central air and house style influence this relationship?")
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price)) +
geom_point(alpha = .3) +
geom_density2d(alpha = .5) +
geom_smooth(method = "lm", se = FALSE) +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2)
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price)) +
geom_point(alpha = .3) +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2)
library(GGally)
glimpse(ames)
ames %>% select_if(is.double)
ames %>%
select_if(is.double) %>%
ggparcoord()
?ggparcoord()
ames %>%
select_if(is.numeric) %>%
ggparcoord() +
coord_flip()
ames %>%
select_if(is.numeric) %>%
ggparcoord(scale = "center") +
coord_flip()
ames %>%
select_if(is.numeric) %>%
ggparcoord(scale = "center", alphaLines = .25) +
coord_flip()
ames %>%
select_if(is.numeric) %>%
ggparcoord(scale = "center", alphaLines = .05) +
coord_flip()
variables <- c("Sale_Price", "Garage_Cars", "TotRms_Abv_Grd", "Bedroom_AbvGr",
"Full_Bath", "Half_Bath")
ggparcoord(ames, columns = variables)
ames[, variables]
names(ames)
variables <- c("Sale_Price", "Garage_Cars", "TotRms_AbvGrd", "Bedroom_AbvGr",
"Full_Bath", "Half_Bath")
ggparcoord(ames, columns = variables)
ames[, variables]
variables <- c("Sale_Price", "Garage_Cars", "TotRms_AbvGrd", "Bedroom_AbvGr",
"Full_Bath", "Half_Bath")
ggparcoord(ames, columns = variables)
ggparcoord(ames, columns = variables)
variables <- c("Sale_Price", "Garage_Cars", "TotRms_AbvGrd", "Bedroom_AbvGr",
"Full_Bath", "Half_Bath")
ames %>%
select(variables) %>%
ggparcoord()
variables <- c("Sale_Price", "Garage_Cars", "TotRms_AbvGrd", "Bedroom_AbvGr",
"Full_Bath", "Half_Bath")
ames %>%
select(variables) %>%
ggparcoord(alpha = .25)
variables <- c("Sale_Price", "Garage_Cars", "TotRms_AbvGrd", "Bedroom_AbvGr",
"Full_Bath", "Half_Bath")
ames %>%
select(variables) %>%
ggparcoord(alpha = .25, scale = "center")
glimpse(ames)
variables <- c("Sale_Price", "Pool_Area", "TotRms_AbvGrd", "Bedroom_AbvGr")
ames %>%
select(variables) %>%
ggparcoord(alpha = .25, scale = "center")
variables <- c("Sale_Price", "Pool_Area", "TotRms_AbvGrd", "Bedroom_AbvGr", "Central_Air")
ames %>%
select(variables) %>%
ggparcoord(alpha = .25, scale = "center", groupColumn = "Central_Air")
variables <- c("Sale_Price", "Pool_Area", "TotRms_AbvGrd", "Bedroom_AbvGr", "Central_Air")
ames %>%
select(variables) %>%
ggparcoord(alpha = .25, scale = "center", groupColumn = "Central_Air")
ames %>%
select(variables)
variables <- c("Sale_Price", "Pool_Area", "TotRms_AbvGrd", "Bedroom_AbvGr", "Central_Air")
ames %>%
select(variables) %>%
ggparcoord(columns = 1:4, alpha = .25, scale = "center", groupColumn = "Central_Air")
variables <- c("Sale_Price", "Pool_Area", "TotRms_AbvGrd", "Bedroom_AbvGr", "Central_Air")
ames %>%
select(variables) %>%
ggparcoord(columns = 1:4, alphaLines = .25, scale = "center", groupColumn = "Central_Air")
variables <- c("Sale_Price", "TotRms_AbvGrd", "TotRms_AbvGrd", "Bedroom_AbvGr", "Gr_Liv_Area")
ames %>%
select(variables) %>%
ggparcoord(columns = 1:4, alphaLines = .25, scale = "center")
variables <- c("Sale_Price", "TotRms_AbvGrd", "TotRms_AbvGrd", "Bedroom_AbvGr", "Gr_Liv_Area")
ames %>%
select(variables) %>%
ggparcoord(alphaLines = .25, scale = "center")
variables <- c("Sale_Price", "TotRms_AbvGrd", "TotRms_AbvGrd", "Bedroom_AbvGr", "Gr_Liv_Area")
ames %>%
select(variables) %>%
ggparcoord(alpha = .25, scale = "center")
variables <- c("Sale_Price", "TotRms_AbvGrd", "Bedroom_AbvGr", "Gr_Liv_Area")
ames %>%
select(variables) %>%
ggparcoord(alpha = .25, scale = "center")
variables <- c("Sale_Price", "Gr_Liv_Area")
ames %>%
select(variables) %>%
ggparcoord(alpha = .25, scale = "center")
variables <- c("Sale_Price", "Gr_Liv_Area")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05, scale = "center")
variables <- c("Sale_Price", "Year_Built", "Gr_Liv_Area")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05, scale = "center")
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Gr_Liv_Area")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05, scale = "center")
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Kitchen_Qual")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05, scale = "center")
levels(ames$Kitchen_Qual)
unclass(levels(ames$Kitchen_Qual))
unclass(ames$Kitchen_Qual))
unclass(ames$Kitchen_Qual)
head(ames$Kitchen_Qual)
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Kitchen_Qual")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05)
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Kitchen_Qual")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05, scale = "center")
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "TotRms_AbvGrd")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05, scale = "center")
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Sale_Condition")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05, scale = "center")
?reorder
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Sale_Condition")
ames %>%
select(variables) %>%
mutate(Sale_Condition = fct_rev(Sale_Condition)) %>%
ggparcoord(alpha = .05, scale = "center")
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Kitchen_Qual")
ames %>%
select(variables) %>%
mutate(Kitchen_Qual = fct_rev(Kitchen_Qual)) %>%
ggparcoord(alpha = .05, scale = "center")
glimpse(ames)
levels(Overall_Qual)
levels(ames$Overall_Qual)
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "ames$Overall_Qual")
ames %>%
select(variables) %>%
#mutate(Kitchen_Qual = fct_rev(Kitchen_Qual)) %>%
ggparcoord(alpha = .05, scale = "center")
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Overall_Qual")
ames %>%
select(variables) %>%
#mutate(Kitchen_Qual = fct_rev(Kitchen_Qual)) %>%
ggparcoord(alpha = .05, scale = "center")
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Overall_Qual")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05, scale = "center")
attributes(ames$Kitchen_Qual)
unclass(ames$Kitchen_Qual)
head(ames$Kitchen_Qual)
unclass(ames$Kitchen_Qual)
unclass(head(ames$Kitchen_Qual))
attributes(head(ames$Kitchen_Qual))
unclass(head(ames$Kitchen_Qual))
levels(head(ames$Kitchen_Qual))
str(head(ames$Kitchen_Qual))
head(ames$Kitchen_Qual)
head(ames$Overall_Qual)
unclass(head(ames$Overall_Qual))
head(ames$Overall_Qual, 10)
head(ames$Overall_Qual[ames$Overall_Qual == "Very_Excellent"])
unclass(ames$Overall_Qual[ames$Overall_Qual == "Very_Excellent"])
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Overall_Qual")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05)
glimpse(ames)
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Street")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05, scale = "center")
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Overall_Qual")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05, scale = "center")
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price)) +
geom_point(alpha = .3) +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2) +
theme_bw()
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price, color = Central_Air, shape = Central_Air)) +
geom_point(alpha = .3) +
geom_density2d(alpha = .5) +
geom_smooth(method = "lm", se = FALSE) +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2) +
ggtitle("Sale Price vs. Above Ground Sq.Ft",
subtitle = "How does central air and house style influence this relationship?") +
theme_bw()
theme_set(theme_minimal())
library(tidyverse)
library(caret)
library(GGally)
ames <- AmesHousing::make_ames()
glimpse(ames)
theme_set(theme_minimal())
knitr::opts_chunk$set(warning = FALSE, message = FALSE, collapse = TRUE, fig.align = 'center')
ggplot(ames, aes(Sale_Price)) +
geom_histogram()
p1 <- ggplot(ames, aes(Sale_Price)) +
geom_histogram(binwidth = 100000) +
ggtitle("Bin width = $100,000")
p2 <- ggplot(ames, aes(Sale_Price)) +
geom_histogram(binwidth = 50000) +
ggtitle("Bin width = $50,000")
p3 <- ggplot(ames, aes(Sale_Price)) +
geom_histogram(binwidth = 5000) +
ggtitle("Bin width = $5,000")
p4 <- ggplot(ames, aes(Sale_Price)) +
geom_histogram(binwidth = 1000) +
ggtitle("Bin width = $1,000")
gridExtra::grid.arrange(p1, p2, p3, p4, ncol = 2)
ames %>%
count(cut_width(Sale_Price, width = 5000)) %>%
arrange(desc(n))
ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
geom_vline(xintercept = c(150000, 170000), color = "red", lty = "dashed") +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
)
par(mfrow = c(1, 2))
# non-log transformed
qqnorm(ames$Sale_Price, main = "Untransformed\nNormal Q-Q Plot")
qqline(ames$Sale_Price)
# log transformed
qqnorm(log(ames$Sale_Price), main = "Log Transformed\nNormal Q-Q Plot")
qqline(log(ames$Sale_Price))
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot(outlier.alpha = .25) +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
gridExtra::grid.arrange(p1, p2, ncol = 2)
outliers <- outliers::scores(log(ames$Sale_Price), type = "iqr", lim = 1.5)
stem(ames$Sale_Price[outliers])
p1 <- ggplot(ames, aes(Sale_Price)) +
geom_density()
p2 <- ggplot(ames, aes(Sale_Price)) +
geom_density() +
geom_rug()
gridExtra::grid.arrange(p1, p2, nrow = 1)
ggplot(ames, aes(Sale_Price)) +
geom_histogram(aes(y = ..density..),
binwidth = 5000, color = "grey30", fill = "white") +
geom_density(alpha = .2, fill = "antiquewhite3")
plot(ames$Sale_Price)
p1 <- ggplot(mtcars, aes(x = mpg)) +
geom_dotplot(method = "histodot", binwidth = 1) +
ggtitle("dotplot")
p2 <- ggplot(mtcars, aes(x = mpg)) +
geom_histogram(binwidth = 1) +
ggtitle("histogram")
gridExtra::grid.arrange(p1, p2, nrow = 1)
ggplot(ames, aes(MS_Zoning)) +
geom_bar()
# total count
p1 <- ames %>%
count(MS_Zoning) %>%
ggplot(aes(reorder(MS_Zoning, n), n)) +
geom_col() +
coord_flip() +
ggtitle("Total count")
# percent of whole
p2 <- ames %>%
count(MS_Zoning) %>%
mutate(pct = n / sum(n)) %>%
ggplot(aes(reorder(MS_Zoning, pct), pct)) +
geom_col() +
coord_flip() +
ggtitle("Percent of whole")
gridExtra::grid.arrange(p1, p2, nrow = 1)
ames %>%
count(MS_Zoning) %>%
mutate(pct = n / sum(n)) %>%
arrange(pct)
ames %>%
mutate(MS_Zoning = fct_lump(MS_Zoning, n = 2)) %>%
count(MS_Zoning) %>%
mutate(pct = n / sum(n)) %>%
ggplot(aes(reorder(MS_Zoning, pct), pct)) +
geom_col() +
coord_flip()
ames %>%
count(Neighborhood) %>%
mutate(pct = n / sum(n)) %>%
ggplot(aes(pct, reorder(Neighborhood, pct))) +
geom_point()
ames %>%
count(Neighborhood) %>%
mutate(pct = n / sum(n)) %>%
ggplot(aes(pct, reorder(Neighborhood, pct))) +
geom_point() +
geom_segment(aes(x = 0, xend = pct, y = Neighborhood, yend = Neighborhood), size = .15)
ggplot(ames, aes(Kitchen_Qual)) +
geom_bar()
ames %>%
mutate(Kitchen_Qual = fct_relevel(Kitchen_Qual, "Poor", "Fair", "Typical", "Good")) %>%
ggplot(aes(Kitchen_Qual)) +
geom_bar()
p1 <- ggplot(ames, aes(Mo_Sold)) +
geom_bar()
p2 <- ggplot(ames, aes(factor(Mo_Sold))) +
geom_bar()
gridExtra::grid.arrange(p1, p2, nrow = 2)
MASS::survey %>%
select(Sex, Exer, Smoke, Fold, Clap, M.I) %>%
gather(var, value, Sex:M.I) %>%
ggplot(aes(value)) +
geom_bar() +
facet_wrap(~ var, scales = "free")
ggplot(titanic::titanic_train, aes(Embarked)) +
geom_bar()
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price)) +
geom_point(alpha = .3)
p1 <- ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price)) +
geom_point(alpha = .3) +
geom_smooth(method = "lm", se = FALSE, color = "red", lty = "dashed") +
geom_smooth(se = FALSE, lty = "dashed") +
ggtitle("Non-transformed variables")
p2 <- ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price)) +
geom_point(alpha = .3) +
geom_smooth(method = "lm", se = FALSE, color = "red", lty = "dashed") +
geom_smooth(se = FALSE, lty = "dashed") +
scale_x_log10() +
scale_y_log10() +
ggtitle("log-transformed variables")
gridExtra::grid.arrange(p1, p2, nrow = 1)
p1 <- ggplot(ames, aes(x = Garage_Area, y = Sale_Price)) +
geom_point(alpha = .2)
p2 <- ggplot(ames, aes(x = Garage_Area, y = Sale_Price)) +
geom_point(alpha = .2) +
geom_density2d()
p3 <- ggplot(ames, aes(x = Garage_Area, y = Sale_Price)) +
geom_hex(bins = 50, show.legend = FALSE)
gridExtra::grid.arrange(p1, p2, p3, nrow = 1)
p1 <- ggplot(ames, aes(x = factor(Bedroom_AbvGr), y = Sale_Price)) +
geom_point(alpha = .3)
p2 <- ggplot(ames, aes(x = factor(Bedroom_AbvGr), y = Sale_Price)) +
geom_jitter(alpha = .5, width = .2)
p3 <- ggplot(ames, aes(x = factor(Bedroom_AbvGr), y = Sale_Price)) +
geom_boxplot()
p4 <- ggplot(ames, aes(x = factor(Bedroom_AbvGr), y = Sale_Price)) +
geom_violin()
gridExtra::grid.arrange(p1, p2, p3, p4, nrow = 2)
p1 <- ggplot(ames, aes(x = Sale_Price, color = Overall_Qual)) +
geom_freqpoly() +
scale_x_log10(breaks = c(50, 150, 400, 750) * 1000, labels = scales::dollar)
p2 <- ggplot(ames, aes(x = Sale_Price, color = Overall_Qual, fill = Overall_Qual)) +
geom_density(alpha = .15) +
scale_x_log10(breaks = c(50, 150, 400, 750) * 1000, labels = scales::dollar)
gridExtra::grid.arrange(p1, p2, nrow = 2)
ggplot(ames, aes(x = Sale_Price, y = Overall_Qual)) +
ggjoy::geom_joy() +
scale_x_continuous(labels = scales::dollar)
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price, color = Central_Air, shape = Central_Air)) +
geom_point(alpha = .3) +
scale_x_log10() +
scale_y_log10()
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price)) +
geom_point(alpha = .3) +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2) +
theme_bw()
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price, color = Central_Air, shape = Central_Air)) +
geom_point(alpha = .3) +
geom_density2d(alpha = .5) +
geom_smooth(method = "lm", se = FALSE) +
scale_x_log10() +
scale_y_log10(labels = scales::dollar) +
facet_wrap(~ House_Style, nrow = 2) +
ggtitle("Sale Price vs. Above Ground Sq.Ft",
subtitle = "How does central air and house style influence this relationship?") +
theme_bw()
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Overall_Qual")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05, scale = "center")
ggplot(ames, aes(Sale_Price)) + stat_qq()
ggplot(ames, aes(Sale_Price)) + geom_qq()
?geom_qq
ggplot(ames, aes(sample = Sale_Price)) + geom_qq()
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price)) +
geom_point(alpha = .3)
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price)) +
geom_point(alpha = .3)
ggplot(ames, aes(x = Gr_Liv_Area, y = Sale_Price, color = Central_Air, shape = Central_Air)) +
geom_point(alpha = .3) +
scale_x_log10() +
scale_y_log10()
?ggparcoord
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Overall_Qual")
ames %>%
select(variables) %>%
ggparcoord(alpha = .05, scale = "center")
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Overall_Qual")
ames %>%
select(variables) %>%
mutate(Above_Avg = Sale_Price > mean(Sale_Price)) %>%
ggparcoord(
alpha = .05,
scale = "center"
columns = 1:4,
variables <- c("Sale_Price", "Year_Built", "Year_Remod_Add", "Overall_Qual")
ames %>%
select(variables) %>%
mutate(Above_Avg = Sale_Price > mean(Sale_Price)) %>%
ggparcoord(
alpha = .05,
scale = "center",
columns = 1:4,
groupColumn = 5)
ames %>%
select(variables) %>%
mutate(Above_Avg = Sale_Price > mean(Sale_Price)) %>%
ggparcoord(
alpha = .05,
scale = "center",
columns = 1:4,
groupColumn = "Above_Avg")
