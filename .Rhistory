ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 250000))
ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000))
ames$Sale_Price[ames$Sale_Price < 50000]
ames$Sale_Price[ames$Sale_Price < 25000]
caret::BoxCoxTrans(ames$Sale_Price)
forecast::BoxCox.lambda(ames$Sale_Price)
car::box.cox.var(ames$Sale_Price)
?car::boxCoxVariable()
?car::boxCox()
car::boxCox(ames$Sale_Price)
car::boxCox2d(ames$Sale_Price)
?car::boxCox
?car::box.cox.powers
car::qq.plot(ames$Sale_Price)
car::qq.plot(log(ames$Sale_Price))
library(caret)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
coord_flip()
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10() +
coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
coord_flip()
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
) +
coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_continuous(labels = scales::dollar)
coord_flip()
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
) +
coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_continuous(labels = scales::dollar) +
coord_flip()
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
) +
coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
) +
coord_flip()
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
) +
coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
) +
coord_flip()
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_jitter() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
) +
coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
) +
coord_flip()
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
) +
coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = seq(25000, 70000, length.out = 5)
) +
coord_flip()
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
) +
coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
seq(25000, 70000, length.out = 5)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = seq(25000, 700000, length.out = 5)
) +
coord_flip()
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
) +
coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = seq(25000, 700000, length.out = 4)
) +
coord_flip()
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
) +
coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
quantile(ames$Sale_Price)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
) +
coord_flip()
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
) +
coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
geom_boxplot()
?geom_boxplot()
ggplot(ames, aes("var", Sale_Price)) +
geom_quantile()
quantile(ames$Sale_Price)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price),
angle = 90
) +
coord_flip()
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
) +
coord_flip() +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
) +
coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
) #+
# coord_flip() +
# theme(axis.text.x = element_text(angle = 90, hjust = 1))
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
) #+
#coord_flip()
gridExtra::grid.arrange(p1, p2, nrow = 2)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
) #+
# coord_flip() +
# theme(axis.text.x = element_text(angle = 90, hjust = 1))
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
) #+
#coord_flip()
gridExtra::grid.arrange(p1, p2, ncol = 2)
IQR(ames$Sale_Price)
install.packages("outliers")
outliers::outlier(ames$Sale_Price)
?outliers::outlier
which(scores(ames$Sale_Price, type = "iqr", lim = 1.5))
which(outliers::scores(ames$Sale_Price, type = "iqr", lim = 1.5))
IQR(ames$Sale_Price)
quantile(ames$Sale_Price)
quantile(ames$Sale_Price)[2]
c(
min(ames$Sale_Price),
quantile(ames$Sale_Price)[2] - 1.5 * IQR(ames$Sale_Price),
quantile(ames$Sale_Price)[4] + 1.5 * IQR(ames$Sale_Price),
max(ames$Sale_Price)
)
quantile(ames$Sale_Price)[2] - 1.5 * IQR(ames$Sale_Price)
1.5 * IQR(ames$Sale_Price)
1.5 * IQR(ames$Sale_Price)
quantile(ames$Sale_Price)[2]
breaks <- c(
min(ames$Sale_Price),
quantile(ames$Sale_Price)[2] - 1.5 * IQR(ames$Sale_Price),
quantile(ames$Sale_Price)[4] + 1.5 * IQR(ames$Sale_Price),
max(ames$Sale_Price)
)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = c(ames$Sale_Price)
)
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
gridExtra::grid.arrange(p1, p2, ncol = 2)
breaks <- c(
min(ames$Sale_Price),
quantile(ames$Sale_Price)[2] - 1.5 * IQR(ames$Sale_Price),
quantile(ames$Sale_Price)[4] + 1.5 * IQR(ames$Sale_Price),
max(ames$Sale_Price)
)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
gridExtra::grid.arrange(p1, p2, ncol = 2)
quantile(ames$Sale_Price)[2]
IQR(ames$Sale_Price)
213500-129500
1.5*IQR(ames$Sale_Price)
quantile(ames$Sale_Price)[1] - 1.5*IQR(ames$Sale_Price)
quantile(ames$Sale_Price)[2] - 1.5*IQR(ames$Sale_Price)
?geom_boxplot
quantile(ames$Sale_Price)[3] + 1.5*IQR(ames$Sale_Price)
library(tidyverse)
library(caret)
(ames <- AmesHousing::make_ames())
theme_set(theme_minimal())
knitr::opts_chunk$set(warning = FALSE, message = FALSE, collapse = TRUE, fig.align = 'center')
ggplot(ames, aes(Sale_Price)) +
geom_histogram()
p1 <- ggplot(ames, aes(Sale_Price)) +
geom_histogram(binwidth = 100000) +
ggtitle("Bin width = $100,000")
p2 <- ggplot(ames, aes(Sale_Price)) +
geom_histogram(binwidth = 50000) +
ggtitle("Bin width = $50,000")
p3 <- ggplot(ames, aes(Sale_Price)) +
geom_histogram(binwidth = 5000) +
ggtitle("Bin width = $5,000")
p4 <- ggplot(ames, aes(Sale_Price)) +
geom_histogram(binwidth = 1000) +
ggtitle("Bin width = $1,000")
gridExtra::grid.arrange(p1, p2, p3, p4, ncol = 2)
ames %>%
count(cut_width(Sale_Price, width = 5000)) %>%
arrange(desc(n))
ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
)
par(mfrow = c(1, 2))
# non-log transformed
qqnorm(ames$Sale_Price, main = "Untransformed\nNormal Q-Q Plot")
qqline(ames$Sale_Price)
# log transformed
qqnorm(log(ames$Sale_Price), main = "Log Transformed\nNormal Q-Q Plot")
qqline(log(ames$Sale_Price))
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
gridExtra::grid.arrange(p1, p2, ncol = 2)
theme_set(theme_minimal())
library(tidyverse)
library(caret)
(ames <- AmesHousing::make_ames())
theme_set(theme_minimal())
knitr::opts_chunk$set(warning = FALSE, message = FALSE, collapse = TRUE, fig.align = 'center')
ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 145000, 300000)
)
ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 175000, 300000)
)
ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
)
ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
geom_vline(xintercept = 175000, lty = "dashed") +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
)
ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
geom_vline(xintercept = 170000, color = "red", lty = "dashed") +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
)
ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
geom_vline(xintercept = 165000, color = "red", lty = "dashed") +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
)
ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
geom_vline(xintercept = 167500, color = "red", lty = "dashed") +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
)
ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
geom_vline(xintercept = 150000, color = "red", lty = "dashed") +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
)
ggplot(ames, aes(Sale_Price)) +
geom_histogram(bins = 100) +
geom_vline(xintercept = c(150000, 170000), color = "red", lty = "dashed") +
scale_x_log10(
labels = scales::dollar,
breaks = c(50000, 125000, 300000)
)
quantile(ames$Sale_Price)
which(scores(ames$Sale_Price, type = "iqr", lim = 1.5))
which(outliers::scores(ames$Sale_Price, type = "iqr", lim = 1.5))
outlier <- outliers::scores(ames$Sale_Price, type = "iqr", lim = 1.5)
ames %>%
filter(outlier)
outlier <- outliers::scores(ames$Sale_Price, type = "iqr", lim = 1.5)
outliers <- ames %>%
filter(outlier)
stripplot(outliers$Sale_Price)
outlier <- outliers::scores(ames$Sale_Price, type = "iqr", lim = 1.5)
outliers <- ames %>%
filter(outlier)
stem(outliers$Sale_Price)
quantile(ames$Sale_Price)
outliers::scores(ames$Sale_Price, type = "iqr", lim = 1.5)
which(ames$Sale_Price < 13000)
?outliers::scores
ames$Sale_Price[outliers::scores(ames$Sale_Price, type = "iqr", lim = 1.5)]
ames$Sale_Price[outliers::scores(ames$Sale_Price, type = "iqr", lim = 1)]
ames$Sale_Price[outliers::scores(ames$Sale_Price, type = "iqr", lim = -1.5)]
ames$Sale_Price[outliers::scores(ames$Sale_Price, type = "iqr", lim = c(-2, 2))]
upper <- outliers::scores(ames$Sale_Price, type = "iqr", lim = 2)
lower <- outliers::scores(ames$Sale_Price, type = "iqr", lim = -2)
stem(outliers$Sale_Price[c(upper, lower)])
upper <- outliers::scores(ames$Sale_Price, type = "iqr", lim = 1.5)
lower <- outliers::scores(ames$Sale_Price, type = "iqr", lim = -1.5)
stem(outliers$Sale_Price[c(upper, lower)])
upper
sum(upper)
sum(lower)
upper <- outliers::scores(ames$Sale_Price, type = "iqr")
stem(outliers$Sale_Price[upper])
upper
outliers::scores(ames$Sale_Price, type = "iqr", limit = 1.5)
outliers::scores(ames$Sale_Price, type = "iqr", lim = 1.5)
?geom_density
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
gridExtra::grid.arrange(p1, p2, ncol = 2)
?outliers::scores
?geom_boxplot()
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot(outlier.alpha = .5) +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
gridExtra::grid.arrange(p1, p2, ncol = 2)
p1 <- ggplot(ames, aes("var", Sale_Price)) +
geom_boxplot(outlier.alpha = .25) +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
p2 <- ggplot(ames, aes("var", Sale_Price)) +
geom_point() +
geom_violin() +
scale_y_log10(
labels = scales::dollar,
breaks = quantile(ames$Sale_Price)
)
gridExtra::grid.arrange(p1, p2, ncol = 2)
outliers::scores(log(ames$Sale_Price), type = "iqr", lim = 1.5)
outliers::scores(log(ames$Sale_Price), type = "iqr", lim = 1.5) %>% sum()
outliers <- outliers::scores(log(ames$Sale_Price), type = "iqr", lim = 1.5)
stem(ames$Sale_Price[outliers])
